# 嵌入式复习
### 1. 什么是嵌入式系统
* 以应用为中心
* 可剪裁成硬件
* 专用计算机系统
### 2. 嵌入式系统组成
1. 嵌入式硬件平台 
   * 嵌入式处理器
   * 嵌入式外围设备
2. 嵌入式软件平台
   * 嵌入式操作系统
   * 嵌入式应用软件
3. 常见的外围设备
   * USB
   * LCD
   * SD Card
### 3. 嵌入式计算机系统和通用型计算机系统比较
1. 应用特性：
2. 设计方法：量体裁衣，去除冗余(专用性)
3. 开发能力：系统本身不具有自制开发能力
4. 其他：
    * 升级换代和具体产品同步进行
    * 软件固化
### 4. 嵌入式系统处理器结构
* 冯诺依曼结构
* 哈佛结构
* 区别：
  1. 冯诺依曼指令存储器和数据存储器一体化设计<br>
  哈佛结构指令存储器和数据存储器独立设计
  2. 冯诺依曼指令地址和数据地址统一编码<br>
  哈佛结构存储地址独立编址，独立访问
  3. 冯诺依曼高速运算时，存储传输通道存在瓶颈<br>
  哈佛结构通过四总线制提高吞吐率
    * 程序地址总线，数据总线
    * 数据地址总线，数据总线 
### 5. 关键寄存器
* CPSR：当前程序状态寄存器
* SPSR：程序状态备份寄存器
* PC：通用寄存器
### 6. 指令集，微架构，芯片产品
* 关系：
  1. 指令集：规范，定义指令的格式、功能
  2. 微架构：将指令集手册定义的功能实例化，变成源码
  3. 芯片：将版图交给对应企业生产，成为芯片
* RISC-V特点
  1. 指令更精巧
  2. 模块化
  3. 开放免费
### 7. 嵌入式处理器分类
* EMPV：
* MCV：
* EDSP：
* SOC：
### 8. EMPV种类(了解)
* MIPS：
* Power PC：
* SH处理器：
* ARM：
  * 什么是ARM
    * 
### 9. ARMv7和ARM7区别
* ARMv7是架构
* ARM7是微处理器
### 10. ARM特点
1. 体积小/成本低/低功耗/高性能
2. 支持Thumb/ARM双指令集
3. 大量使用寄存器
4. 寻址方式简单灵活
### 11. ARM微处理器：Cortex
* Cortex-A：面向高性能，13级流水线，支持1-4核
* Cortex-R：面向高实时性，8级流水线，通常应用于专用集成电路
* Cortex-M：面向对能耗和价格要求高的用户，是全球微控制器标准，低延迟3级流水线
### 12. ARM指令集
* 特征：
  1. 属于加载/存储型指令
  2. 指令操作数在寄存器中，处理结果直接放回目的寄存器
* 指令基本组成部分<br>
 `<opcode> {<cond> {s} <Rd> <Rn> {,<shift_op2>}`
    ```
    <opcode> 操作码
    <cond> 条件码</cond>
    {s} 可选后缀，自动更新CPSR中条件码标志位
    <Rd> 目的寄存器
    <Rn> 存放第一操作数寄存器
    <shift_op2> 第二操作数(寄存器/立即数)
    ```
* ARM和Thumb指令区别
  * ARM指令32位，Thumb指令16位
  * Thumb依赖于ARM
* 寻址方式
  * 直接寻址
  * 间接寻址
  * 寄存器偏移寻址
  *
### 13. 操作系统
* 作用
  1. 资源管理
  2. 硬件虚拟化
  3. 提供资源
* 常见嵌入式OS
  1. 嵌入式Linux
  2. Windows CE
  3. 鸿蒙
     * 特点：分布式架构/微内核设计/多终端适配
### 14. 嵌入式Linux
* Linux组成结构
  1. 内核
     * 硬件层面：控制设备，管理内存，基本I/O，接口
     * 软件层面：管理文件系统，为程序分配内存和cpu时间
  2. 文件系统：按目录层次组织
  3. shell：系统用户界面/命令解释器/编程语言
  4. 应用程序
* Linux内核组成部分
  1. 进程调度程序
  2. 内存管理程序
  3. 虚拟文件系统
  4. 网络接口
  5. 进程间通信
### 15. Linux Shell操作
* 提示
  * $
  * \#
* 编程
  * vim：命令模式/编辑模式/末行模式
  * gcc对比arm-linux-gcc
* 常用命令
  * ls/cp/rm/mv/tar/mount/mkdir/rmdir/vim/find
  * ln：链接
* 文件权限管理
  `chmod [who] [opt] [mode] filename`
    ```
    who: u user/g group/o other/a all
  opt: +/-/=
  mode r read/w write/x execute
    ```
* make,Makefile
  * 基本概念
    * make：构建项目，可用与构建多个项目
    * Makefile：构建规则
  * Makefile构成：
    * 依赖关系：由一个目标和一组该目标所依赖的源文件组成
    * 规则：怎样使用所以来的文件来建立目标文件
    * ```
      write.o: io.h write.c
        gcc -c write.c
      * 目标：write.o
      * 依赖：io.h write.c
      * 命令：gcc -c write.c
      ```